{"version":3,"sources":["images/logo.svg","components/Header.jsx","contexts/CurrentUserContext.js","components/Card.jsx","images/Cousteau.jpg","components/Main.jsx","components/Footer.jsx","components/ImagePopup.jsx","utils/Api.js","components/PopupWithForm.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/App.jsx","index.js"],"names":["Header","className","src","mestoLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardRemoveButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","status","user","method","body","JSON","stringify","data","title","cardId","removeCardLike","addCardLike","authorization","PopupWithForm","noValidate","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","onLoading","event","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","id","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","isLoading","setLoading","closeAllPopups","setCurrentUser","getUserInfo","setCards","getInitialCards","Provider","changeCardLikeStatus","newCard","newCards","c","removeCard","filter","setUserInfo","finally","setTimeout","addCustomCard","setNewAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c9dec8b6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import mestoLogo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        src={mestoLogo}\r\n        alt=\"Логотип проекта 'Место'\"\r\n        className=\"header__logo\"\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext({});\r\n","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  // Кнопка удаления\r\n  const cardRemoveButtonClassName = `card__remove-button ${\r\n    isOwn ? 'card__remove-button_visible' : ''\r\n  }`;\r\n\r\n  // Кнопка лайка\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__like-button ${\r\n    isLiked ? 'card__like-button_active' : ''\r\n  }`;\r\n\r\n  // Попап с картинкой\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  // Лайк\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  // Удаление\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <button\r\n        type=\"button\"\r\n        className={cardRemoveButtonClassName}\r\n        aria-label=\"Удалить\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"card__image-container\">\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"card__image\"\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Лайк\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"card__like-count\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/Cousteau.bbe7c5b6.jpg\";","import { useContext } from 'react';\r\nimport Card from './Card.jsx';\r\nimport avatar from '../images/Cousteau.jpg';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__main\">\r\n          <button\r\n            aria-label=\"Изменить аватар\"\r\n            className=\"profile__avatar-edit\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              src={currentUser.avatar ? currentUser.avatar : avatar}\r\n              alt=\"Аватар пользователя\"\r\n              className=\"profile__avatar\"\r\n            />\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__user\">\r\n              <h1 className=\"profile__name\">\r\n                {currentUser.name ? currentUser.name : 'Жак-Ив Кусто'}\r\n              </h1>\r\n              <p className=\"profile__occupation\">\r\n                {currentUser.about ? currentUser.about : 'Исследователь океана'}\r\n              </p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"Редактировать профиль\"\r\n              className=\"profile__edit-button\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Добавить фотографию\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"cards\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section className={`popup popup_image ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__image-container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть попап с фотографией\"\r\n          className=\"popup__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"popup__photo\"\r\n        />\r\n        <h3 className=\"popup__card-title\">{props.card.name}</h3>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  // Получение информации о польтзователе\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n\r\n  // Редактирование информации о пользователе\r\n  setUserInfo(user) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(user),\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n\r\n  // Получение карточек с сервера\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n\r\n  // Добавление своей карточки\r\n  addCustomCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.title,\r\n        link: data.link,\r\n      }),\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n\r\n  // Удаление своей карточки\r\n  removeCard(card) {\r\n    return fetch(`${this._baseUrl}/cards/${card}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n\r\n  // Посатвить лайк\r\n  addCardLike(card) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${card}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n\r\n  // Убрать лайк\r\n  removeCardLike(card) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${card}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n\r\n  changeCardLikeStatus(cardId, isLiked) {\r\n    return isLiked ? this.removeCardLike(cardId) : this.addCardLike(cardId);\r\n  }\r\n\r\n  // Установить новый аватар\r\n  setNewAvatar(user) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: user.avatar,\r\n      }),\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`),\r\n    );\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers: {\r\n    authorization: '0317c846-fa90-4414-9658-7dd1e3d83b45',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}\r\n    >\r\n      <form\r\n        name={props.name}\r\n        className={`popup__container popup__container_${props.name}`}\r\n        noValidate\r\n        onSubmit={props.onSubmit}\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть\"\r\n          className=\"popup__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n\r\n        {props.children}\r\n\r\n        <button aria-label=\"Сохранить\" className=\"popup__submit-button\">\r\n          {props.buttonText}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport PopupWithForm from './PopupWithForm.jsx';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  //! Стейты и функции попапа редактирования профиля\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleNameInputChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleDescriptionInputChange(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText={props.onLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset name=\"user\" className=\"popup__info\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          name=\"name\"\r\n          required=\"\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          id=\"profile-name-input\"\r\n          value={name}\r\n          onChange={handleNameInputChange}\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"profile-name-input-error\"\r\n        ></span>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Род занятий\"\r\n          name=\"job\"\r\n          required=\"\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          className=\"popup__input popup__input_type_occupation\"\r\n          id=\"profie-occupation-input\"\r\n          value={description}\r\n          onChange={handleDescriptionInputChange}\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"profie-occupation-input-error\"\r\n        ></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm.jsx';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  //! Реф и функции поапап обновления аватара\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText={props.onLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset name=\"avatar\" className=\"popup__info\">\r\n        <input\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на изображение\"\r\n          name=\"link\"\r\n          required=\"\"\r\n          className=\"popup__input popup__input_avatar popup__input_type_url\"\r\n          id=\"avatar-url-input\"\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"avatar-url-input-error\"></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm.jsx';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleTitleInputChange(event) {\r\n    setTitle(event.target.value);\r\n  }\r\n\r\n  function handleLinkInputChange(event) {\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onAddPlace({ title, link });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card\"\r\n      title=\"Новое место\"\r\n      buttonText={props.onLoading ? 'Создание...' : 'Создать'}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset name=\"card\" className=\"popup__info\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          name=\"title\"\r\n          required=\"\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          className=\"popup__input popup__input_type_title\"\r\n          id=\"card-title-input\"\r\n          onChange={handleTitleInputChange}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"card-title-input-error\"></span>\r\n        <input\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на изображение\"\r\n          name=\"link\"\r\n          required=\"\"\r\n          className=\"popup__input popup__input_type_url\"\r\n          id=\"card-url-input\"\r\n          onChange={handleLinkInputChange}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"card-url-input-error\"></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import { useState, useEffect } from 'react';\r\nimport '../index.css';\r\nimport Header from './Header.jsx';\r\nimport Main from './Main.jsx';\r\nimport Footer from './Footer.jsx';\r\nimport ImagePopup from './ImagePopup.jsx';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport api from '../utils/Api.js';\r\nimport EditProfilePopup from './EditProfilePopup.jsx';\r\nimport EditAvatarPopup from './EditAvatarPopup.jsx';\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nfunction App() {\r\n  //! Стейты и функции попапов\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n\r\n  // Текст при загрузке\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({\r\n      ...selectedCard,\r\n      link: card.link,\r\n      name: card.name,\r\n    });\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setImagePopupOpen(false);\r\n  }\r\n\r\n  //! Стейт пользователя\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: '',\r\n    about: '',\r\n    avatar: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    api.getUserInfo().then((user) => {\r\n      setCurrentUser(user);\r\n    });\r\n  }, []);\r\n\r\n  // Обновление пользователя\r\n  function handleUpdateUser(user) {\r\n    setLoading(true);\r\n\r\n    api\r\n      .setUserInfo(user)\r\n      .then(setCurrentUser)\r\n      .then(closeAllPopups)\r\n      .finally(setTimeout(() => setLoading(false), 1500));\r\n  }\r\n\r\n  // Обновление аватара\r\n  function handleUpdateAvatar(user) {\r\n    setLoading(true);\r\n\r\n    api\r\n      .setNewAvatar(user)\r\n      .then(setCurrentUser)\r\n      .then(closeAllPopups)\r\n      .finally(setTimeout(() => setLoading(false), 1500));\r\n  }\r\n\r\n  //! Стейты и функции карточки\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards().then((cards) => {\r\n      setCards(cards);\r\n    });\r\n  }, []);\r\n\r\n  // Лайк\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api.changeCardLikeStatus(card._id, isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  // Удаление карточки\r\n  function handleCardDelete(card) {\r\n    api.removeCard(card._id).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  // Добавление новой карточки\r\n  function handleAddPlace(data) {\r\n    setLoading(true);\r\n\r\n    api\r\n      .addCustomCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .then(closeAllPopups)\r\n      .finally(setTimeout(() => setLoading(false), 1500));\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n          cards={cards}\r\n        />\r\n        <Footer />\r\n\r\n        {/* Попап редактирования профиля */}\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          onLoading={isLoading}\r\n        />\r\n\r\n        {/* Попап добавления карточки */}\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n          onLoading={isLoading}\r\n        />\r\n\r\n        {/* Попап редактирования аватара */}\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          onLoading={isLoading}\r\n        />\r\n\r\n        {/* Попап с картинкой*/}\r\n        <ImagePopup\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n          card={selectedCard}\r\n        />\r\n\r\n        {/* Попап удаления карточки на будущее \r\n        <PopupWithForm name=\"remove\" title=\"Вы уверены?\" buttonText=\"Да\" />\r\n        */}\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.jsx';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}